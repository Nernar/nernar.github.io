<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-multiplayer/start" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Начало | Inner Core Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nernar.github.io/ru/docs/multiplayer/start"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="keywords" content="nernar, minecraft, modding tools, dev editor, innercore, horizon, coreengine"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Начало | Inner Core Docs"><meta data-rh="true" name="description" content="Мультиплеер — одна из важнейших частей любого не клиентского мода, которую создателю нужно поддерживать для того, чтобы игроки могли играть в мод вместе. А вместе с тем, одна из сложнейших для новичков."><meta data-rh="true" property="og:description" content="Мультиплеер — одна из важнейших частей любого не клиентского мода, которую создателю нужно поддерживать для того, чтобы игроки могли играть в мод вместе. А вместе с тем, одна из сложнейших для новичков."><link data-rh="true" rel="icon" href="/ru/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://nernar.github.io/ru/docs/multiplayer/start"><link data-rh="true" rel="alternate" href="https://nernar.github.io/docs/multiplayer/start" hreflang="en"><link data-rh="true" rel="alternate" href="https://nernar.github.io/ru/docs/multiplayer/start" hreflang="ru"><link data-rh="true" rel="alternate" href="https://nernar.github.io/docs/multiplayer/start" hreflang="x-default"><link rel="stylesheet" href="/ru/assets/css/styles.835ec1f8.css">
<script src="/ru/assets/js/runtime~main.1ec546ae.js" defer="defer"></script>
<script src="/ru/assets/js/main.6cf2e603.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержанию"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержанию</a></div><div class="announcementBar_mb4j" style="background-color:#cc4444;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">A huge number of articles, APIs and other things were <a target="_blank" rel="noopener noreferrer" href="https://vk.com/wall-148880110_346">irretrievably lost</a>.</div></div><nav aria-label="Главная" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ru/"><div class="navbar__logo"><img src="/ru/copyright/innercore.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ru/copyright/innercore.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Inner Core Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ru/docs">Документация</a><a class="navbar__item navbar__link" href="/ru/api">API</a><a class="navbar__item navbar__link" href="/ru/libraries">Библиотеки</a><a class="navbar__item navbar__link" href="/ru/changelog">Обновления</a><a class="navbar__item navbar__link" href="/ru/faq">ЧаВО</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Русский</a><ul class="dropdown__menu"><li><a href="/docs/multiplayer/start" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ru/docs/multiplayer/start" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ru">Русский</a></li></ul></div><a href="https://github.com/nernar/nernar.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Переключение между ночным и светлым режимом (сейчас используется Светлый режим)" aria-label="Переключение между ночным и светлым режимом (сейчас используется Светлый режим)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка вверх" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/ru/"><img src="/ru/copyright/innercore.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ru/copyright/innercore.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Inner Core Docs</b></a><nav aria-label="Навигация по документации" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/docs/intro">Вступление</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/getting-started">Начало работы</a><button aria-label="Свернуть категорию &#x27;Начало работы&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/getting-started/methodology">Методология</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/getting-started/installing-pack">Установка движка</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/getting-started/supporting-ides">Поддерживаемые среды</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/getting-started/going-forward">Двигаемся вперед</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/basics">Основы</a><button aria-label="Развернуть категорию &#x27;Основы&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/events">События</a><button aria-label="Развернуть категорию &#x27;События&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/items">Предметы</a><button aria-label="Развернуть категорию &#x27;Предметы&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/blocks">Блоки</a><button aria-label="Развернуть категорию &#x27;Блоки&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/environment">Окружение</a><button aria-label="Развернуть категорию &#x27;Окружение&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/entities">Существа</a><button aria-label="Развернуть категорию &#x27;Существа&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/uis">Интерфейсы</a><button aria-label="Развернуть категорию &#x27;Интерфейсы&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/storage">Хранилище</a><button aria-label="Развернуть категорию &#x27;Хранилище&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ru/docs/category/multiplayer">Мультиплеер</a><button aria-label="Свернуть категорию &#x27;Мультиплеер&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ru/docs/multiplayer/start">Начало</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/multiplayer/client-packets">Клиентские пакеты</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/multiplayer/server-packets">Серверные пакеты</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/docs/multiplayer/network-entity-type">Сетевые сущности</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/dimensions">Изм ерения</a><button aria-label="Развернуть категорию &#x27;Измерения&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/advanced">Техническое</a><button aria-label="Развернуть категорию &#x27;Техническое&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ru/docs/category/publishing">Публикация</a><button aria-label="Развернуть категорию &#x27;Публикация&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/docs/future-steps">Последующие шаги</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><header><h1>Начало</h1></header>
<p>Мультиплеер — одна из важнейших частей любого <strong>не клиентского мода</strong>, которую создателю нужно поддерживать для того, чтобы игроки могли играть в мод вместе. А вместе с тем, одна из сложнейших для новичков.</p>
<p>Попробуем за одну статью разобрать, как разграничивать клиент и сервер и в чём их отличие, для чего нужны пакеты и определим, какие <a href="/ru/docs/events/callbacks">события</a> относятся к клиентским, а какие к серверным.
Перед чтением статьи настоятельно рекомендую ознакомиться со следующими статьями, ведь материалы из них будут рассмотрены в данном разделе:</p>
<ol>
<li><a href="/ru/docs/events/callbacks">Калбеки</a></li>
<li><a href="/ru/docs/storage/containers">Контейнеры</a></li>
<li><a href="/ru/docs/storage/tile-entities">Тайлы</a></li>
<li><a href="/ru/docs/storage/saving-basics">Сохраняем данные</a></li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="клиент">Клиент<a href="#клиент" class="hash-link" aria-label="Ссылка на этот заголовок" title="Ссылка на этот заголовок">​</a></h2>
<p>Давайте попробуем понять сразу на примере игры. Представим, что мы находимся на сервере. Все игроки — это клиенты. Они не могут влиять на сервер напрямую, но они могут отправлять запросы (пакеты), а сервер может либо сделать какие-то действия, например отправить ответный пакет, либо проигнорировать или предпринять какие-то действия против клиента, если посчитает это нужным.</p>
<!-- -->
<p>В случае, если се рвер захочет отправить какие-то данные клиенту, он отправит ответный пакет, и такой пакет будет называться <a href="/ru/docs/multiplayer/client-packets">клиентским</a>.</p>
<!-- -->
<p>Клиенты знают только ту информацию, которая им нужна. Например это данные о мобах и блоках в загруженных им чанках, погоде и времени.</p>
<p>Давайте представим, что мы пишем мод и в качестве простого игрока на сервере пытаемся получить данные о подключённых игроках при помощи <a href="/ru/api/core-engine/Network.d.ts"><code>Network.getConnectedPlayers()</code></a>. Поскольку клиент этой информации не знает, мы не получим нужный нам список. Однако мы можем создать серверный пакет, который мы отправим на него и он сделает нужные нам действия со списком игроков сам. Почему бы просто не отправить серверу нам список игроков? Это может быть опасно, и о безопасности пакетов мы поговорим в будущем.</p>
<p>Распределяйте нагрузку так, чтобы вся визуальная информация вычислялась на клиенте.</p>
<p>Методы, которые выдают информацию клиентам принято называть <em><strong>клиентскими</strong></em>, а которые меняют информацию сервера — <em><strong>серверными</strong></em>.</p>
<p>Клиент не может использовать серверные методы, например лома ть и ставить блоки при помощи <a href="/ru/api/core-engine/BlockSource.d.ts">BlockSource</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="различие-данных">Различие данных<a href="#различие-данных" class="hash-link" aria-label="Ссылка на этот заголовок" title="Ссылка на этот заголовок">​</a></h3>
<p>Как мы и говорили ранее, игра не выдаёт те данные, которые клиент не должен знать.  Когда мы изменяем данные внутри нашего мода на хосте (игрок, которому принадлежит мир или серверное ПО), они и меняются только на сервере. Но на клиенте остаются прежними. Обычно сервер выдаёт необходимую клиентам информацию при помощи пакетов или <a href="/ru/docs/events/using-synced-data">SyncedNetworkData</a>.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Не храните важную для игры информацию на клиенте</div><div class="admonitionContent_BuS1"><p>Всей важной информацией, которая не касается визуальной части, должен заниматься сервер.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="сервер">Сервер<a href="#сервер" class="hash-link" aria-label="Ссылка на этот заголовок" title="Ссылка на этот заголовок">​</a></h2>
<p>Сервер представляет из себя компьютер, где запущен мир Minecraft. Он может напрямую взаимодействовать на мир и на данные, которые на нём хранятся, менять данные игроков из модов, к примеру такие, как: изучения, магический уровень и прочее. Сервер не знает информацию с клиента, если он не отправляет её при помощи <a href="/ru/docs/multiplayer/server-packets">серверных пакетов</a>.
Вся нагрузка, которая не касается визуала, должна ложиться на сервер. Это разные системы, добавляемые модами, функционал блоков и прочее.</p>
<p>Пакеты, которые сервер принимает, называются <a href="/ru/docs/multiplayer/server-packets">серверными</a>. Очень важно понимать, что на сервер не всегда могут поступать честные пакеты, некоторые моды могут отправлять пакеты с произвольными данными от недобросовестного разработчика, что конечно нужно учитывать. О безопасности поговорим в статье про серверные пакеты, но пока что просто запомните это.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="хорошие-и-плохие-примеры">Хорошие и плохие примеры<a href="#хорошие-и-плохие-примеры" class="hash-link" aria-label="Ссылка на этот заголовок" title="Ссылка на этот заголовок">​</a></h2>
<p>Рассмотрим хорошие и плохие примеры реализации мультиплеера:</p>
<ol>
<li>Плохие примеры<!-- -->
<ol>
<li>Тайл энтити спавнит частицы не внутри <a href="/ru/api/core-engine/TileEntity.d.ts">client.onTick</a>, а отправляет пакет на клиент с запуском частиц.</li>
<li>Один пакет используется на много действий, например для загрузки, разрушения, смены позиции и текстуры для <a href="/ru/api/core-engine/Animation.d.ts">анимации</a>.</li>
<li>Вместо создания пакета для запуска фигуры из частиц (<a href="/ru/docs/environment/particles">кстати, их мы рассматривали тут</a>), отправляется один и тот же пакет для спавна одной частицы много раз, чтобы отрисовать эту же фигуру.</li>
</ol>
</li>
<li>Хорошие примеры<!-- -->
<ol>
<li>Клиентская часть тайл энтити отделена от сервера и данные поставляются при помощи SyncedNetworkData.</li>
<li>Код грамотно разделён на пакеты, пакет не выполняет больше чем нужно, чтобы лишний раз не нагружать сервер.</li>
</ol>
</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Не экономьте пакеты</div><div class="admonitionContent_BuS1"><p>Не важно количество пакетов, старайтесь чтобы они не делали больше, чем требуется для решения конкретной задачи.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="клиентские-и-серверные-события">Клиентские и серверные события<a href="#клиентские-и-серверные-события" class="hash-link" aria-label="Ссылка на этот заголовок" title="Ссылка на этот заголовок">​</a></h2>
<p>Классификация событий по клиентским и серверным.</p>
<table><thead><tr><th>Клиентские</th><th>Серверные</th></tr></thead><tbody><tr><td>LocalPlayerChangedDimension</td><td>PlayerChangedDimension</td></tr><tr><td>tick</td><td>PlayerChangedDimension</td></tr><tr><td>LocalTick</td><td>CustomDimensionTransfer</td></tr><tr><td>LocalPlayerTick</td><td>ServerPlayerTick</td></tr><tr><td>ItemUseLocal</td><td>ItemUse</td></tr><tr><td>ItemUseLocalServer</td><td>ItemUseLocalServer</td></tr><tr><td>ItemIconOverride</td><td>ItemUseNoTarget</td></tr><tr><td>ItemNameOverride</td><td>ItemUseServer</td></tr><tr><td>DestroyBlockContinue</td><td>ItemUsingReleased</td></tr><tr><td>CustomBlockTessellation</td><td>ItemUsingComplete</td></tr><tr><td>LocalPlayerEat</td><td>ItemDispensed</td></tr><tr><td>EntityAddedLocal</td><td>DestroyBlock</td></tr><tr><td>EntityRemovedLocal</td><td>DestroyBlockStart</td></tr><tr><td>LocalChunkLoadingStateChanged?</td><td>BuildBlock</td></tr><tr><td>NativeCommand</td><td>BlockChanged</td></tr><tr><td>VanillaWorkbenchRecipeSelected</td><td>BreakBlock</td></tr><tr><td>ContainerClosed</td><td>RedstoneSignal</td></tr><tr><td>ContainerOpened</td><td>BlockEventEntityInside</td></tr><tr><td>NativeGuiChanged</td><td>BlockEventEntityStepOn</td></tr><tr><td>CustomWindowOpened</td><td>BlockEventNeighbourChange</td></tr><tr><td>CustomWindowClosed</td><td>PopBlockResources</td></tr><tr><td>AddRuntimePacks</td><td>Explosion</td></tr><tr><td>PreBlocksDefined</td><td>ServerPlayerEat</td></tr><tr><td>BlocksDefined</td><td>FoodEaten</td></tr><tr><td>CoreConfigured</td><td>EntityAdded</td></tr><tr><td>PreLoaded</td><td>EntityRemoved</td></tr><tr><td>APILoaded</td><td>PlayerAttack</td></tr><tr><td>ModsLoaded</td><td>EntityHurt</td></tr><tr><td>PostLoaded</td><td>EntityDeath</td></tr><tr><td>OptionsChanged</td><td>EntityInteract</td></tr><tr><td>LevelSelected</td><td>EntityPickUpDrop</td></tr><tr><td>ConnectingToHost</td><td>ExpAdd</td></tr><tr><td>LevelCreated</td><td>ExpLevelAdd</td></tr><tr><td>LocalLevelLoaded</td><td>ChunkLoadingStateChanged?</td></tr><tr><td>LocalPlayerLoaded</td><td>ExpOrbsSpawned</td></tr><tr><td>RemoteLevelLoaded</td><td>ProjectileHit</td></tr><tr><td>RemoteLevelPreLoaded</td><td>GenerateChunk</td></tr><tr><td>LevelPreLoaded</td><td>GenerateChunkUnderground</td></tr><tr><td>LevelLoaded</td><td>GenerateNetherChunk</td></tr><tr><td>LevelDisplayed</td><td>GenerateEndChunk</td></tr><tr><td>SystemKeyEventDispatched</td><td>GenerateChunkUniversal</td></tr><tr><td>NavigationBackPressed</td><td>GenerateCustomDimensionChunk</td></tr><tr><td>GameLeft</td><td>GenerateBiomeMap</td></tr><tr><td>LevelPreLeft</td><td>PreProcessChunk</td></tr><tr><td>LevelLeft</td><td>PostProcessChunk</td></tr><tr><td>LocalLevelPreLeft</td><td>EnchantPostAttack</td></tr><tr><td>LocalLevelLeft</td><td>EnchantGetProtectionBonus</td></tr><tr><td>AppSuspended</td><td>EnchantGetDamageBonus</td></tr><tr><td></td><td>EnchantPostHurt</td></tr><tr><td></td><td>CraftRecipePreProvided</td></tr><tr><td></td><td>CraftRecipeProvidedFunction</td></tr><tr><td></td><td>VanillaWorkbenchCraft</td></tr><tr><td></td><td>VanillaWorkbenchPostCraft</td></tr><tr><td></td><td>TileEntityAdded</td></tr><tr><td></td><td>TileEntityRemoved</td></tr><tr><td></td><td>ServerLevelLoaded</td></tr><tr><td></td><td>ServerLevelPreLoaded</td></tr><tr><td></td><td>ServerPlayerLoaded</td></tr><tr><td></td><td>ReadSaves</td></tr><tr><td></td><td>WriteSaves</td></tr><tr><td></td><td>ServerLevelPreLeft</td></tr><tr><td></td><td>ServerLevelLeft</td></tr><tr><td></td><td>ServerPlayerLeft</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/nernar/nernar.github.io/tree/master/i18n/ru/docusaurus-plugin-content-docs/current/multiplayer/start.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="none" width="14" height="14" viewBox="0 0 14 14" class="iconEdit_dqTn" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><g><path d="M7 0C3.13438 0 0 3.21563 0 7.17813C0 10.35 2.00625 13.0375 4.7875 13.9875C4.83125 13.9969 4.86875 14 4.90625 14C5.16563 14 5.26562 13.8094 5.26562 13.6438C5.26562 13.4719 5.25938 13.0219 5.25625 12.4219C4.99375 12.4812 4.75938 12.5063 4.55 12.5063C3.20313 12.5063 2.89687 11.4594 2.89687 11.4594C2.57812 10.6313 2.11875 10.4094 2.11875 10.4094C1.50938 9.98125 2.11562 9.96875 2.1625 9.96875H2.16563C2.86875 10.0312 3.2375 10.7125 3.2375 10.7125C3.5875 11.325 4.05625 11.4969 4.475 11.4969C4.80312 11.4969 5.1 11.3906 5.275 11.3094C5.3375 10.8469 5.51875 10.5312 5.71875 10.35C4.16563 10.1688 2.53125 9.55313 2.53125 6.80312C2.53125 6.01875 2.80312 5.37813 3.25 4.87813C3.17812 4.69688 2.9375 3.96563 3.31875 2.97813C3.31875 2.97813 3.36875 2.9625 3.475 2.9625C3.72812 2.9625 4.3 3.05937 5.24375 3.71562C5.80312 3.55625 6.4 3.47812 6.99687 3.475C7.59062 3.47812 8.19063 3.55625 8.75 3.71562C9.69375 3.05937 10.2656 2.9625 10.5188 2.9625C10.625 2.9625 10.675 2.97813 10.675 2.97813C11.0563 3.96563 10.8156 4.69688 10.7437 4.87813C11.1906 5.38125 11.4625 6.02187 11.4625 6.80312C11.4625 9.55937 9.825 10.1656 8.26562 10.3438C8.51562 10.5656 8.74063 11.0031 8.74063 11.6719C8.74063 12.6313 8.73125 13.4062 8.73125 13.6406C8.73125 13.8094 8.82812 14 9.0875 14C9.125 14 9.16875 13.9969 9.2125 13.9875C11.9969 13.0375 14 10.3469 14 7.17813C14 3.21563 10.8656 0 7 0Z" fill="currentColor"></path></g></svg>Изменить содержимое</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Обновлено<!-- --> <b><time datetime="2025-07-18T14:16:36.000Z" itemprop="dateModified">18 июл. 2025 г.</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Навигация по странице документации"><a class="pagination-nav__link pagination-nav__link--prev" href="/ru/docs/category/multiplayer"><div class="pagination-nav__sublabel">Вернуться</div><div class="pagination-nav__label">Multiplayer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ru/docs/multiplayer/client-packets"><div class="pagination-nav__sublabel">Далее</div><div class="pagination-nav__label">Клиентские пакеты</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#клиент" class="table-of-contents__link toc-highlight">Клиент</a><ul><li><a href="#различие-данных" class="table-of-contents__link toc-highlight">Различие данных</a></li></ul></li><li><a href="#сервер" class="table-of-contents__link toc-highlight">Сервер</a></li><li><a href="#хорошие-и-плохие-примеры" class="table-of-contents__link toc-highlight">Хорошие и плохие примеры</a></li><li><a href="#клиентские-и-серверные-события" class="table-of-contents__link toc-highlight">Клиентские и серверные события</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Документация</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ru/docs/intro">Начало работы</a></li><li class="footer__item"><a href="https://github.com/nernar/nernar.github.io/blob/master/README.md#contribution" target="_blank" rel="noopener noreferrer" class="footer__link-item">Внесение вклада</a></li></ul></div><div class="col footer__col"><div class="footer__title">Сообщество</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/ntInsideChat" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://vk.com/nernar" target="_blank" rel="noopener noreferrer" class="footer__link-item">ВКонтакте<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:nernar@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Напишите нам<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Прочее</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nernar" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Nernar. Собрано не без ❤ и Docusaurus.</div></div></div></footer></div>
</body>
</html>