# Начало

Dungeon Utility — это мод-библиотека, для создания структур и работы со структурами.
Библиотека позволяет создавать структуры и устанавливать их в мире с лучшей производительностью, чем аналоги в виде Structures и предшественников мода.

[Декларации TypeScript](https://github.com/Reider745/Dungeon-Utility/tree/main/declarations) — требуются для подсказок в различных средах

Данная документация содержит только основные методы, без дополнительных усложнений, для простоты понимания, документация расчитана на тех кто уже [JavaScript](https://learn.javascript.ru/)

[Старая документация DungeonUtility](https://github.com/Reider745/libs/blob/main/mod_documentation_api/DungeonUtility.md)

:::info Какие возможности включает данная мод-библиотека?**

+ Загрузка структур от всех существующих на inner core библиотек
+ Полный контроль над установкой структуры
+ Возможность создавать лут в сундуки
+ Создание качественной генерации структур
:::

## Преимущества и недостатки DungeonUtility

### Плюсы

+ **Проработанное API**: Удобный интерфейс для разработчиков.
+ **Хорошая производительность**: Эффективная работа даже при больших нагрузках.
+ **Поддержка серверного ядра**: Совместимость с [ZoteCoreLoader](https://github.com/Reider745/ZoteCoreLoader).
+ **Разнообразие форматов структур**: Гибкость в использовании различных структур данных.
+ **Открытый исходный код**: Доступный для изучения и модификации [репозиторий](https://github.com/Reider745/Dungeon-Utility).
+ **Поддержка BlockState, extra, CompoundTag**: Широкий функционал для работы с данными.

### Минусы

+ **Поддержка только inner core 1.16**: Ограниченная совместимость с другими версиями.
+ **Необходимость делать зависимость от мода**: Дополнительные требования для интеграции.

## Сохранение структур

Сохранение структур происходит в несколько этапов:

1. Вызовите команду `/du` (включает возможность использовать ванильный деревянный топор для выбора точек)
2. Выберите две крайние точки структуры
3. Выберите центр структуры, нажав на нужный блок с шифтом (желательно)
4. Вызовите команду `/struct`

### Команда struct

Сохраняет структуру в файл (в папку output, которая находится в папке мода).

```
/struct save name:string saveAir:bool specialSeparator:bool type:string compression:bool
```

+ Параметры команды:
  + name - имя структуры, без пробелов!
  + saveAir - сохранять ли вместе со структурой блоки воздуха, true или false (указывать необязательно, по умолчанию false).
  + specialSeparator - красивое оформление JSON, true или false (указывать не обязательно, по умолчанию false).
  + type - тип формата, в который будет сохранена структура (указывать не обязательно, по умолчанию DungeonUtility).
  + compression - сжимать ли структуру с помощью алгоритма Хаффмана, true или false (указывать не обязательно, по умолчанию false).

Отображает список загруженных структур:

```
/struct list
```

Устанавливает структуру на место, где стоит игрок:

```
/struct set name:string pool:string
```

+ Параметры команды:
  + name - имя структуры, без пробелов!
  + pool - в котором находится структура, без пробелов!
  
Переводит струтктуру формата DungeonUtility_V2 в текстовый формат (чтобы можно было разобрать содержимое структуры ), берет структуру из папки output.

```
/struct du2 name:string
```

# Моды которые используют DungeonUtility

+ [Desolation](https://icmods.mineprogramming.org/mod?id=784)
+ [Schematic](https://icmods.mineprogramming.org/mod?id=786)
+ [AppliedEnergistics 2](https://icmods.mineprogramming.org/mod?id=906)
+ [Example Structure](https://icmods.mineprogramming.org/mod?id=992)
+ [Galacticraft 4 PE](https://icmods.mineprogramming.org/mod?id=8556)
+ [Ancient wonders](https://icmods.mineprogramming.org/mod?id=682)
+ [Aether 2 BE](https://icmods.mineprogramming.org/mod?id=195)
